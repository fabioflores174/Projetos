<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arsenal de Vorgram</title>
    <style>
        :root {
            --main-bg: #2e4f2e; /* Verde escuro (Floresta) */
            --gradient-bg: linear-gradient(135deg, #2e4f2e, #4a7043);
            --border-color: #8b5a2b; /* Marrom */
            --shadow-color: #5c4033;
            --text-color: #f5f5f5; /* Off-white */
            --accent-color: #ffcc00; /* Amarelo dourado */
            --secondary-bg: rgba(46, 79, 46, 0.8); /* Verde escuro com opacidade */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background: var(--gradient-bg);
            color: var(--text-color);
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            padding: 0;
        }
        
        /* Cabeçalho */
        .full-width-background {
            width: 100%;
            height: 70vh;
            min-height: 500px;
            background-color: var(--main-bg);
            background-image: url('fundo_header.png');
            background-size: cover;
            background-position: center bottom;
            position: relative;
            border-bottom: 4px solid var(--border-color);
        }
        
        .header-container {
            position: absolute;
            bottom: 100px;
            left: 0;
            width: 100%;
            text-align: center;
            z-index: 2;
            background: transparent;
        }
        
        .header-container img {
            max-width: 300px;
            width: 100%;
            image-rendering: pixelated;
            border: 4px solid var(--border-color);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
            background: var(--secondary-bg);
            padding: 10px;
        }
        
        h1 {
            color: var(--accent-color);
            font-size: 2.8rem;
            text-shadow: 
                3px 3px 0 var(--border-color),
                6px 6px 0 var(--shadow-color);
            letter-spacing: 2px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .subtitle {
            color: var(--accent-color);
            font-size: 1.4rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 0 var(--shadow-color);
        }
        
        /* Container principal */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 3;
        }
        
        /* Barra de pesquisa */
        .search-container {
            margin: 20px 0;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .search-input {
            padding: 10px;
            width: 80%;
            max-width: 500px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            background: var(--secondary-bg);
            color: var(--text-color);
            border: 3px solid var(--border-color);
            outline: none;
            transition: border-color 0.2s;
        }
        
        .search-input:focus {
            border-color: var(--accent-color);
        }
        
        /* Botão para abrir formulário de adição de item */
        .toggle-add-item, .trash-button, .favorites-button, .stats-button {
            background-color: var(--main-bg);
            color: var(--text-color);
            border: 4px solid var(--border-color);
            padding: 8px 16px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--shadow-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .toggle-add-item:hover, .trash-button:hover, .favorites-button:hover, .stats-button:hover {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--shadow-color);
            background-color: var(--shadow-color);
        }
        
        .toggle-add-item:active, .trash-button:active, .favorites-button:active, .stats-button:active {
            transform: translateY(6px);
            box-shadow: none;
        }
        
        /* Formulário de adição de item */
        .add-item-container {
            background: var(--secondary-bg);
            border: 4px solid var(--border-color);
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 8px 0 var(--shadow-color);
            display: none;
        }
        
        .add-item-container h3 {
            color: var(--accent-color);
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .add-item-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 8px;
            font-family: 'Courier New', monospace;
            background: rgba(26, 26, 26, 0.7);
            color: var(--text-color);
            border: 2px solid var(--border-color);
            font-size: 1rem;
            resize: vertical;
        }
        
        .form-group textarea {
            min-height: 60px;
        }
        
        .form-group a {
            color: var(--accent-color);
            text-decoration: none;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .form-group a:hover {
            text-decoration: underline;
        }
        
        .char-counter {
            font-size: 0.8rem;
            color: var(--accent-color);
            text-align: right;
            margin-top: 5px;
        }
        
        .add-item-button {
            background-color: var(--main-bg);
            color: var(--text-color);
            border: 4px solid var(--border-color);
            padding: 8px 16px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--shadow-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            align-self: center;
        }
        
        .add-item-button:hover {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--shadow-color);
            background-color: var(--shadow-color);
        }
        
        .add-item-button:active {
            transform: translateY(6px);
            box-shadow: none;
        }
        
        .status-group {
            display: flex;
            gap: 10px;
        }
        
        .status-group .form-group {
            flex: 1;
        }
        
        /* Seções */
        .section-title {
            color: var(--accent-color);
            font-size: 2.5rem;
            text-shadow: 2px 2px 0 var(--shadow-color);
            margin: 40px 0 20px;
            text-align: center;
            position: relative;
            padding-bottom: 10px;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--accent-color), transparent);
        }
        
        /* Itens */
        .item-container {
            display: flex;
            background: var(--secondary-bg);
            border: 4px solid var(--border-color);
            margin: 25px 0;
            padding: 20px;
            position: relative;
            box-shadow: 0 8px 0 var(--shadow-color);
            flex-wrap: wrap;
        }
        
        /* Emoji de classe no canto superior direito */
        .item-suit {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 2rem;
            z-index: 2;
            text-shadow: 2px 2px 0 #000;
        }
        
        .item-image-container {
            display: flex;
            flex-direction: column;
            margin-right: 20px;
            width: 150px;
        }
        
        .item-image {
            width: 150px;
            height: 150px;
            background-color: #333;
            border: 3px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .item-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .item-status {
            width: 100%;
            background: var(--border-color);
            padding: 5px;
            text-align: center;
            font-size: 0.9rem;
            border: 2px solid var(--shadow-color);
            border-top: none;
            margin-bottom: 10px;
        }
        
        .item-details {
            flex: 1;
            min-width: 250px;
        }
        
        .item-name {
            color: var(--accent-color);
            font-size: 1.8rem;
            margin-bottom: 10px;
            border-bottom: 2px dotted var(--border-color);
            padding-bottom: 5px;
        }
        
        .item-property {
            margin: 8px 0;
            display: flex;
        }
        
        .property-name {
            font-weight: bold;
            color: var(--accent-color);
            min-width: 180px;
        }
        
        .property-value {
            color: var(--text-color);
        }
        
        /* Botões no estilo do código base */
        .toggle-description {
            background-color: var(--main-bg);
            color: var(--text-color);
            border: 4px solid var(--border-color);
            padding: 8px 16px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--shadow-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 15px;
            display: inline-block;
        }
        
        .toggle-description:hover {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--shadow-color);
            background-color: var(--shadow-color);
        }
        
        .toggle-description:active {
            transform: translateY(6px);
            box-shadow: none;
        }
        
        .description-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: rgba(26, 26, 26, 0.7);
            border: 3px solid var(--border-color);
            position: relative;
            box-shadow: 0 6px 0 var(--shadow-color);
        }
        
        .description-content::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 20px;
            width: 40px;
            height: 10px;
            background: var(--border-color);
        }
        
        .description-content::after {
            content: "";
            position: absolute;
            bottom: -10px;
            right: 20px;
            width: 40px;
            height: 10px;
            background: var(--border-color);
        }
        
        /* Menu de navegação e cores */
        .nav-container {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }
        
        .nav-menu, .color-menu {
            position: relative;
        }
        
        .nav-button, .color-button {
            background-color: var(--main-bg);
            color: var(--accent-color);
            border: 4px solid var(--border-color);
            padding: 12px 20px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--shadow-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            text-decoration: none;
        }
        
        .nav-button:hover, .color-button:hover {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--shadow-color);
            background-color: var(--shadow-color);
        }
        
        .nav-button:active, .color-button:active {
            transform: translateY(6px);
            box-shadow: none;
        }
        
        .nav-dropdown, .color-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--secondary-bg);
            border: 4px solid var(--border-color);
            box-shadow: 0 6px 0 var(--shadow-color);
            min-width: 200px;
        }
        
        .nav-dropdown a, .color-dropdown button {
            display: block;
            color: var(--text-color);
            padding: 10px 15px;
            text-decoration: none;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            text-transform: uppercase;
            transition: background-color 0.2s;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
        }
        
        .nav-dropdown a:hover, .color-dropdown button:hover {
            background-color: var(--shadow-color);
        }
        
        .nav-menu:hover .nav-dropdown, .color-menu:hover .color-dropdown {
            display: block;
        }
        
        /* Ações do item */
        .item-actions {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 2;
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .edit-menu-button, .favorite-button {
            background: none;
            border: none;
            color: var(--accent-color);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .favorite-button:hover {
            color: #ff6b6b;
        }
        
        .favorite-button.favorited {
            color: #ff6b6b;
        }
        
        .edit-menu {
            position: absolute;
            bottom: 100%;
            right: 0;
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            padding: 5px;
            display: none;
        }
        
        .edit-menu button {
            display: block;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            padding: 5px;
            font-family: 'Courier New', monospace;
        }
        
        .edit-menu button:hover {
            background: var(--shadow-color);
        }
        
        /* Lixeira, Favoritos e Estatísticas */
        #trash-section, #favorites-section, #stats-section {
            background: var(--secondary-bg);
            border: 4px solid var(--border-color);
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 8px 0 var(--shadow-color);
            display: none;
            position: relative;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background: var(--main-bg);
            border: 3px solid var(--border-color);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 0 var(--shadow-color);
            flex: 1;
            min-width: 200px;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1.2rem;
            color: var(--text-color);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        #trash-section .close-button, #favorites-section .close-button, #stats-section .close-button {
            background-color: var(--main-bg);
            color: var(--text-color);
            border: 4px solid var(--border-color);
            padding: 8px 16px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--shadow-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            align-self: center;
            margin-top: 20px;
        }
        
        #trash-section .close-button:hover, #favorites-section .close-button:hover, #stats-section .close-button:hover {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--shadow-color);
            background-color: var(--shadow-color);
        }
        
        #trash-section .close-button:active, #favorites-section .close-button:active, #stats-section .close-button:active {
            transform: translateY(6px);
            box-shadow: none;
        }

        /* Notificações - POSICIONADAS NO INFERIOR DIREITA */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent-color);
            color: #000;
            padding: 15px 20px;
            border: 3px solid var(--border-color);
            box-shadow: 0 4px 0 var(--shadow-color);
            z-index: 1001;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
            max-width: 300px;
            word-wrap: break-word;
        }

        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }

        .notification.success {
            background: #2ed573;
            color: #fff;
        }

        .notification.error {
            background: #ff4757;
            color: #fff;
        }

        .notification.warning {
            background: #ffa502;
            color: #fff;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .item-container {
                flex-direction: column;
            }
            
            .item-image-container {
                width: 100%;
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .item-image {
                width: 100%;
                height: 200px;
            }
            
            .header-container img {
                max-width: 200px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .item-suit {
                font-size: 1.8rem;
                top: 8px;
                right: 8px;
            }
            
            .nav-container {
                top: 10px;
                right: 10px;
            }
            
            .nav-button, .color-button {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .search-input {
                width: 90%;
            }
            
            .toggle-add-item, .favorites-button, .stats-button {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .status-group {
                flex-direction: column;
                gap: 15px;
            }
            
            .search-container {
                flex-wrap: wrap;
            }

            .stats-container {
                flex-direction: column;
            }

            .notification {
                max-width: 250px;
                bottom: 10px;
                right: 10px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .item-name {
                font-size: 1.4rem;
            }
            
            .property-name {
                min-width: 120px;
            }
            
            .toggle-description {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
            
            .item-suit {
                font-size: 1.5rem;
                top: 5px;
                right: 5px;
            }
            
            .nav-container {
                top: 5px;
                right: 5px;
            }
            
            .nav-button, .color-button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            
            .search-input {
                width: 95%;
            }
            
            .toggle-add-item, .favorites-button, .stats-button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }

            .notification {
                max-width: 200px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Menu de navegação e cores -->
    <div class="nav-container">
        <div class="nav-menu">
            <button class="nav-button">Navegar</button>
            <div class="nav-dropdown">
                <a href="tabelas.html">Tabelas</a>
                <a href="arena.html">Arena</a>
                <a href="homepage.html">Entrada da Cidade</a>
                <a href="forja.html">Forja de Adornos</a>
            </div>
        </div>
        <div class="color-menu">
            <button class="color-button">Cores</button>
            <div class="color-dropdown">
                <button onclick="changeTheme('forest')">Floresta</button>
                <button onclick="changeTheme('autumn')">Outono</button>
                <button onclick="changeTheme('twilight')">Crepúsculo</button>
                <button onclick="changeTheme('night')">Noite</button>
                <button onclick="changeTheme('beige')">Bege</button>
                <button onclick="changeTheme('oak')">Carvalho</button>
                <button onclick="changeTheme('sand')">Areia</button>
            </div>
        </div>
    </div>
    
    <!-- Cabeçalho -->
    <div class="full-width-background">
        <div class="header-container">
            <img alt="Vorgram, o ciclope" src="imagens/vorgram.png" />
            <h1>ARSENAL DE VORGRAM</h1>
            <p class="subtitle">"Itens coletados em incontáveis aventuras"</p>
        </div>
    </div>
    
    <!-- Conteúdo principal -->
    <div class="container">
        <!-- Barra de pesquisa -->
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Pesquisar item..." oninput="searchItems()">
            <button class="toggle-add-item" onclick="toggleAddItemForm()">Adicionar Item</button>
            <button class="favorites-button" onclick="toggleFavorites()">⭐ Favoritos</button>
            <button class="trash-button" onclick="toggleTrash()">🗑️ Lixeira</button>
            <button class="stats-button" onclick="toggleStats()">📊 Estatísticas</button>
        </div>
        
        <!-- Formulário de adição de item -->
        <div class="add-item-container">
            <h3 id="add-item-title">Adicionar Novo Item</h3>
            <form class="add-item-form" onsubmit="addItem(event)">
                <div class="form-group">
                    <label for="item-name">Nome:</label>
                    <input type="text" id="item-name" maxlength="50" required>
                    <span class="char-counter" id="name-counter">0/50</span>
                </div>
                <div class="form-group">
                    <label for="item-image">Imagem (Data URL):</label>
                    <textarea id="item-image" maxlength="2000" placeholder="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA..." required></textarea>
                    <span class="char-counter" id="image-counter">0/2000</span>
                    <a href="https://base64.guru/converter/encode/image" target="_blank">Pegue imagens data URL aqui</a>
                </div>
                <div class="form-group">
                    <label for="item-suit">Classe:</label>
                    <select id="item-suit" required>
                        <option value="⚔️">Cavaleiro (⚔️)</option>
                        <option value="🪄">Mago (🪄)</option>
                        <option value="🔧">Artificer (🔧)</option>
                        <option value="💰">Mercador (💰)</option>
                        <option value="🃏">Coringa (🃏)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="item-section">Seção:</label>
                    <select id="item-section" required>
                        <option value="especiais">Itens Especiais</option>
                        <option value="simples">Itens Simples</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="item-type">Tipo:</label>
                    <input type="text" id="item-type" maxlength="50" required>
                    <span class="char-counter" id="type-counter">0/50</span>
                </div>
                <div class="form-group">
                    <label for="item-requirements">Requerimentos para compra:</label>
                    <input type="text" id="item-requirements" maxlength="100" required>
                    <span class="char-counter" id="requirements-counter">0/100</span>
                </div>
                <div class="form-group">
                    <label for="item-description">Descrição:</label>
                    <textarea id="item-description" maxlength="500" required></textarea>
                    <span class="char-counter" id="description-counter">0/500</span>
                </div>
                <div class="form-group">
                    <label for="item-found">Como foi achada:</label>
                    <textarea id="item-found" maxlength="300" required></textarea>
                    <span class="char-counter" id="found-counter">0/300</span>
                </div>
                <div class="status-group">
                    <div class="form-group">
                        <label for="item-damage">Dano:</label>
                        <input type="text" id="item-damage" maxlength="50" required>
                        <span class="char-counter" id="damage-counter">0/50</span>
                    </div>
                    <div class="form-group">
                        <label for="item-life">Vida:</label>
                        <input type="text" id="item-life" maxlength="50" required>
                        <span class="char-counter" id="life-counter">0/50</span>
                    </div>
                </div>
                <button type="submit" class="add-item-button" id="submit-button">Adicionar Item</button>
            </form>
        </div>
        
        <!-- Seção de Estatísticas -->
        <div id="stats-section" style="display: none;">
            <h2 class="section-title">Estatísticas do Arsenal</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="total-items">0</div>
                    <div class="stat-label">Itens Totais</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="favorite-items">0</div>
                    <div class="stat-label">Favoritos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="deleted-items">0</div>
                    <div class="stat-label">Excluídos</div>
                </div>
            </div>
            <button class="close-button" onclick="toggleStats()">Fechar</button>
        </div>
        
        <!-- Seção de Favoritos -->
        <div id="favorites-section" style="display: none;">
            <h2 class="section-title">Itens Favoritos</h2>
            <div id="favorites-items"></div>
            <button class="close-button" onclick="toggleFavorites()">Fechar</button>
        </div>
        
        <!-- Seção de Lixeira -->
        <div id="trash-section" style="display: none;">
            <h2 class="section-title">Itens Excluídos</h2>
            <div id="trash-items"></div>
            <button class="close-button" onclick="toggleTrash()">Fechar</button>
        </div>
        
        <h2 class="section-title">Itens Especiais</h2>
        
        <!-- Alaúde Encantado (Mago) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🪄</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/alaude_encantado.png" alt="Alaúde Encantado">
                </div>
                <div class="item-status">Dano: 1 | Vida: 4</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Alaúde Encantado</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Instrumento</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Mago nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram diz ter escutado uma incrível melodia sendo feita pelo alaúde, e decidiu se provar ao seu dono para que conseguisse esse instrumento místico.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um instrumento bem refinado e bonito, pode ser usado como arma (batendo nos números 6, 8, 10), porém seu grande ponto forte é sua melodia, já que é dito que ela pode curar até mesmo os mais feridos, cura 4 pontos de vida de um aliado, sua cura não pode ser usada no turno seguinte, somente após um turno de uso.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Machado do Dragão (Cavaleiro) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">⚔️</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/machado_dragao.png" alt="Machado do Dragão">
                </div>
                <div class="item-status">Dano: 3 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Machado do Dragão</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Dragônica</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram disse ter achado um grande ferreiro anão 7 reinos longe do vale, parece ter sido uma viagem e tanto por tal arma.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma arma que parece ter sido forjada em uma forja enorme, feita para criar imenso calor que criou essa arma, pode causar um bom estrago, possui uma habilidade que pode ser usada uma vez por batalha, onde a arma solta imenso fogo e queima três inimigos, causando 3 de dano em cada um (bate em 2, 4, 6, 8). Infelizmente a arma parece não ser tão boa contra água.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>

        <!-- Lança de Dois Gumes (Cavaleiro) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">⚔️</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/lanca_dois_gumes.png" alt="Lança de Dois Gumes">
                </div>
                <div class="item-status">Dano: 6 | Dano recebido: 2 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Lança de Dois Gumes</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Perigoso</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram achou essa arma nas mãos de um louco que não se importava no poder da arma que criava e muito menos sua instabilidade, já morto.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma lança com grande ataque, porém por um preço. A arma pode causar alto dano porém causa parte do dano de volta a seu usuário. Ataca em todos os números pares.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Armadura de Leopoldo (Artificer) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🔧</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/armadura_leopoldo.png" alt="Armadura de Leopoldo">
                </div>
                <div class="item-status">Dano: 0 | Vida: 2</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Armadura de Leopoldo</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Armadura/Viva</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram diz que essa armadura já foi invadida por um necromante, revivendo a alma que se escondia em uma armadura velha e danificada.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma armadura feita de mythril, mesmo simples, ainda possui algo de especial por dentro. Um espírito já fraco vive dentro da armadura com um potencial alto. Caso caia o número 7 no lado do usuário, o espírito se manifesta e irá ajudar algum dos aliados, aumentando a chance de acerto de uma de suas armas por 2 números na próxima rodada, por exemplo: caso a arma bate em 2, 4, 6. Ela irá bater também em 8, 10. Seguindo a lógica da arma. Caso a arma já tenha muitos números de ataque o espírito não irá conseguir ajudar.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Escudo de Ossos (Cavaleiro) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">⚔️</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img alt="Escudo de Ossos" src="imagens/escudo_ossos.png" />
                </div>
                <div class="item-status">Dano: 0 | Vida: 2</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Escudo de Ossos</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Equipamento/Defesa</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram encontrou este escudo em uma cripta antiga, coberto de poeira e protegido por espíritos inquietos.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um escudo velho e empoeirado que já foi usado para parar criaturas místicas, ele possui uma habilidade que pode ser usada duas vezes em cada batalha, onde ao ser ativada, quaisquer danos tomados serão reduzidos a metade por duas rodadas.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Cajado de madeira Rúnica (Mago) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🪄</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/cajado_runico.png" alt="Cajado de madeira Rúnica">
                </div>
                <div class="item-status">Dano: 1 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Cajado de madeira Rúnica</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Mágica</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Mago nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram descobriu o cajado em uma floresta encantada, preso entre as raízes de uma árvore milenar.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Esse cajado pode armazenar um feitiço de mago, após usar a magia, ele será guardado para a próxima batalha, dessa forma, uma magia pode ser usada somente uma vez na batalha, mas poderá ser usada quantas vezes o usuário quiser.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Manto da Sombras (Mago/Coringa) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🪄 🃏</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/manto_sombras.png" alt="Manto da Sombras">
                </div>
                <div class="item-status">Dano: - | Vida: -</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Manto da Sombras</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Armadura/Defesa</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 1, Mago nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram achou o manto em uma caverna escura, onde sombras dançavam como se o chamassem.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um capuz que parece se mover como água, mesmo sendo feito de sombras. O usuário além de ter uma alta defesa, também ganha a habilidade de paralisar um inimigo por dois turnos com suas sombras.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Martelo Estranho (Artificer/Coringa) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🔧 🃏</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/martelo_estranho.png" alt="Martelo Estranho">
                </div>
                <div class="item-status">Dano: 3 - 1 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Martelo Estranho</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/???</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Artificer nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram encontrou o martelo após atravessar um portal misterioso, em um campo alienígena.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um martelo que Vorgram diz ter achado em um campo logo a frente de um estranho portal, ele pode acertar nos números 1(A), 3, 5, 7. Causando 3 de dano a uma criatura e 1 de dano a outra (caso não haja mais de uma criatura, o martelo irá causar 4 de dano). Tem uma sigla marcada no martelo… T. F.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Poção da riqueza (Mercador) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">💰</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/pocao_riqueza.png" alt="Poção da riqueza">
                </div>
                <div class="item-status">Dano: 0 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Poção da riqueza</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Consumível/Dinheiro</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Mercador nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram comprou a poção de um mercador misterioso em um mercado clandestino.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma poção muito interessante que pode ajudar aqueles pouco afortunados, ao beber, quaisquer inimigos mortos na próxima batalha do consumidor, irão dar o equivalente a uma moeda.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Espada Cortante (Cavaleiro) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">⚔️</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/espada_cortante.png" alt="Espada Cortante">
                </div>
                <div class="item-status">Dano: 2 - 2 Turno | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Espada Cortante</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Sangramento</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Cavaleiro nível 2</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram conquistou a espada após derrotar um cavaleiro amaldiçoado em um duelo.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Existe uma lenda que essa espada já pertenceu ao príncipe-Eleitor da Baviera Maximiliano II, essa espada pode cortar fácil os inimigos causando 2 de dano e os fazer sangrar, causando 2 de dano por turno no inimigo atingido (não considerando o turno no qual o inimigo foi acertado), ela acerta nos números 3, 5, 7, 9.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Aljava de Flechas Venenosas (Artificer) -->
        <div class="item-container" data-section="especiais">
            <div class="item-suit">🔧</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/aljava_flechas.png" alt="Aljava de Flechas Venenosas">
                </div>
                <div class="item-status">Dano: 1 Turno | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Aljava de Flechas Venenosas</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Equipamento/Flecha</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Artificer nível 1, Cavaleiro nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram encontrou a aljava em um pântano, escondida em um baú envenenado.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma aljava com 4 flechas banhadas em veneno em sua ponta que não aumentam o dano de armas que usam flechas (já que as flechas por si só são normais) porém podem aumentar a quantidade de usos um arco ou besta tem, além de seu veneno causar 1 de dano por turno no inimigo atingido (não considerando o turno no qual o inimigo foi acertado).
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <h2 class="section-title">Itens Simples</h2>
        
        <!-- Espada de Latão (Cavaleiro) -->
        <div class="item-container" data-section="simples">
            <div class="item-suit">⚔️</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/espada_latao.png" alt="Espada de Latão">
                </div>
                <div class="item-status">Dano: 1 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Espada de Latão</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Simples</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Nenhum</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram achou a espada abandonada em uma forja antiga, ainda quente.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Uma espada feita de latão, é bem simples mas pode ser bem usada, acerta nos números 1(A), 2 e 3.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Arco simples (Artificer) -->
        <div class="item-container" data-section="simples">
            <div class="item-suit">🔧</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/arco_simples.png" alt="Arco simples">
                </div>
                <div class="item-status">Dano: 2 | Vida: 0</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Arco simples</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Arma/Simples</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Nenhum</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram encontrou o arco em um acampamento abandonado, com flechas ainda intactas.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um arco feito de madeira simples, dá pra se ver um galho para fora no arco, possui duas flechas (pode ser usado duas vezes por batalha) porém causa um bom dano. O arco acerta no 2, 4, 6.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
        
        <!-- Chapéu de Mago Iniciante (Mago) -->
        <div class="item-container" data-section="simples">
            <div class="item-suit">🪄</div>
            <div class="item-image-container">
                <div class="item-image">
                    <img src="imagens/chapeu_mago.png" alt="Chapéu de Mago Iniciante">
                </div>
                <div class="item-status">Dano: 1 | Vida: 2</div>
            </div>
            <div class="item-details">
                <h3 class="item-name">Chapéu de Mago Iniciante</h3>
                <div class="item-property">
                    <span class="property-name">Tipo:</span>
                    <span class="property-value">Armadura/Simples</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Requerimentos:</span>
                    <span class="property-value">Mago nível 1</span>
                </div>
                <div class="item-property">
                    <span class="property-name">Como foi achada:</span>
                    <span class="property-value">Vorgram ganhou o chapéu de um mago idoso após ajudá-lo em uma vila.</span>
                </div>
                <button class="toggle-description">Mostrar Descrição</button>
                <div class="description-content">
                    Um chapéu simples que pode aumentar o poder de magias centrais (magias que causam dano a somente um oponente) por 1.
                </div>
            </div>
            <div class="item-actions">
                <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                <div class="edit-menu" style="display:none;">
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentEditingItem = null;

        // ===== SISTEMA DE NOTIFICAÇÕES =====
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => notification.classList.add('show'), 100);
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // ===== SISTEMA DE TEMAS =====
        const themes = {
            forest: {
                '--main-bg': '#2e4f2e',
                '--gradient-bg': 'linear-gradient(135deg, #2e4f2e, #4a7043)',
                '--border-color': '#8b5a2b',
                '--shadow-color': '#5c4033',
                '--text-color': '#f5f5f5',
                '--accent-color': '#ffcc00',
                '--secondary-bg': 'rgba(46, 79, 46, 0.8)'
            },
            autumn: {
                '--main-bg': '#8b4513',
                '--gradient-bg': 'linear-gradient(135deg, #8b4513, #a0522d)',
                '--border-color': '#654321',
                '--shadow-color': '#3e2723',
                '--text-color': '#fff8dc',
                '--accent-color': '#ffa500',
                '--secondary-bg': 'rgba(139, 69, 19, 0.8)'
            },
            twilight: {
                '--main-bg': '#4b3c5e',
                '--gradient-bg': 'linear-gradient(135deg, #4b3c5e, #6a5b7b)',
                '--border-color': '#6b8299',
                '--shadow-color': '#4a5c72',
                '--text-color': '#f5f5f5',
                '--accent-color': '#ffcc00',
                '--secondary-bg': 'rgba(75, 60, 94, 0.8)'
            },
            night: {
                '--main-bg': '#2e2e4f',
                '--gradient-bg': 'linear-gradient(135deg, #2e2e4f, #434370)',
                '--border-color': '#4a4a72',
                '--shadow-color': '#1a1a33',
                '--text-color': '#e6e6fa',
                '--accent-color': '#9370db',
                '--secondary-bg': 'rgba(46, 46, 79, 0.8)'
            },
            beige: {
                '--main-bg': '#f5f5dc',
                '--gradient-bg': 'linear-gradient(135deg, #f5f5dc, #e8d5b9)',
                '--border-color': '#4a3728',
                '--shadow-color': '#3c2f24',
                '--text-color': '#333333',
                '--accent-color': '#d4a017',
                '--secondary-bg': 'rgba(245, 245, 220, 0.8)'
            },
            oak: {
                '--main-bg': '#3c2415',
                '--gradient-bg': 'linear-gradient(135deg, #3c2415, #4a2e1a)',
                '--border-color': '#8b7355',
                '--shadow-color': '#2a1a0f',
                '--text-color': '#f5f5dc',
                '--accent-color': '#daa520',
                '--secondary-bg': 'rgba(60, 36, 21, 0.9)'
            },
            sand: {
                '--main-bg': '#f4e4bc',
                '--gradient-bg': 'linear-gradient(135deg, #f4e4bc, #d9c2a6)',
                '--border-color': '#6b4e31',
                '--shadow-color': '#5a3f27',
                '--text-color': '#333333',
                '--accent-color': '#e6b800',
                '--secondary-bg': 'rgba(244, 228, 188, 0.8)'
            }
        };

        function changeTheme(themeName) {
            const theme = themes[themeName];
            for (const [key, value] of Object.entries(theme)) {
                document.documentElement.style.setProperty(key, value);
            }
            localStorage.setItem('selectedTheme', themeName);
            showNotification(`Tema alterado para ${themeName.charAt(0).toUpperCase() + themeName.slice(1)}`, 'success');
        }

        // ===== SISTEMA DE ESTATÍSTICAS =====
        function updateStatistics() {
            const allItems = document.querySelectorAll('.item-container[data-section]');
            const favoriteItems = document.querySelectorAll('#favorites-items .item-container');
            const deletedItems = document.querySelectorAll('#trash-items .item-container');

            const totalItems = allItems.length + favoriteItems.length + deletedItems.length;

            document.getElementById('total-items').textContent = totalItems;
            document.getElementById('favorite-items').textContent = favoriteItems.length;
            document.getElementById('deleted-items').textContent = deletedItems.length;
        }

        function toggleStats() {
            const statsSection = document.getElementById('stats-section');
            const favoritesSection = document.getElementById('favorites-section');
            const trashSection = document.getElementById('trash-section');
            
            // Fechar outras seções se estiverem abertas
            if (favoritesSection.style.display === 'block') {
                favoritesSection.style.display = 'none';
            }
            if (trashSection.style.display === 'block') {
                trashSection.style.display = 'none';
            }
            
            if (statsSection.style.display === 'block') {
                statsSection.style.display = 'none';
            } else {
                updateStatistics();
                statsSection.style.display = 'block';
            }
        }

        // Carregar tema salvo ou padrão
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('selectedTheme') || 'forest';
            changeTheme(savedTheme);

            const toggleButtons = document.querySelectorAll('.toggle-description');
            toggleButtons.forEach(button => {
                button.addEventListener('click', toggleDescriptionHandler);
            });

            // Configurar contadores de caracteres
            setupCharCounter('item-name', 'name-counter', 50);
            setupCharCounter('item-image', 'image-counter', 2000);
            setupCharCounter('item-type', 'type-counter', 50);
            setupCharCounter('item-requirements', 'requirements-counter', 100);
            setupCharCounter('item-description', 'description-counter', 500);
            setupCharCounter('item-found', 'found-counter', 300);
            setupCharCounter('item-damage', 'damage-counter', 50);
            setupCharCounter('item-life', 'life-counter', 50);

            // Atualizar estatísticas iniciais
            updateStatistics();
        });

        function setupCharCounter(inputId, counterId, maxLength) {
            const input = document.getElementById(inputId);
            const counter = document.getElementById(counterId);
            if (input && counter) {
                input.addEventListener('input', () => {
                    counter.textContent = `${input.value.length}/${maxLength}`;
                });
            }
        }

        function toggleMenu(btn) {
            const menu = btn.nextElementSibling;
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        function toggleAddItemForm() {
            const addItemContainer = document.querySelector('.add-item-container');
            const toggleButton = document.querySelector('.toggle-add-item');
            const title = document.getElementById('add-item-title');
            const submitButton = document.getElementById('submit-button');
            if (addItemContainer.style.display === 'block') {
                addItemContainer.style.display = 'none';
                toggleButton.textContent = 'Adicionar Item';
                currentEditingItem = null;
                title.textContent = 'Adicionar Novo Item';
                submitButton.textContent = 'Adicionar Item';
                document.querySelector('.add-item-form').reset();
                resetCounters();
            } else {
                addItemContainer.style.display = 'block';
                toggleButton.textContent = 'Fechar Formulário';
            }
        }

        function resetCounters() {
            document.querySelectorAll('.char-counter').forEach(counter => {
                counter.textContent = `0/${counter.textContent.split('/')[1]}`;
            });
        }

        function toggleTrash() {
            const trashSection = document.getElementById('trash-section');
            const favoritesSection = document.getElementById('favorites-section');
            const statsSection = document.getElementById('stats-section');
            
            // Fechar outras seções se estiverem abertas
            if (favoritesSection.style.display === 'block') {
                favoritesSection.style.display = 'none';
            }
            if (statsSection.style.display === 'block') {
                statsSection.style.display = 'none';
            }
            
            trashSection.style.display = trashSection.style.display === 'block' ? 'none' : 'block';
        }

        function toggleFavorites() {
            const favoritesSection = document.getElementById('favorites-section');
            const trashSection = document.getElementById('trash-section');
            const statsSection = document.getElementById('stats-section');
            
            // Fechar outras seções se estiverem abertas
            if (trashSection.style.display === 'block') {
                trashSection.style.display = 'none';
            }
            if (statsSection.style.display === 'block') {
                statsSection.style.display = 'none';
            }
            
            favoritesSection.style.display = favoritesSection.style.display === 'block' ? 'none' : 'block';
        }

        function toggleFavorite(item) {
            const favoriteButton = item.querySelector('.favorite-button');
            const favoritesItems = document.getElementById('favorites-items');
            const originalSection = item.dataset.section;
            const isCurrentlyFavorited = favoriteButton.classList.contains('favorited');

            if (!isCurrentlyFavorited) {
                // Adicionar aos favoritos
                favoriteButton.classList.add('favorited');
                item.dataset.originalSection = originalSection; // Salvar seção original
                
                // Remover do local atual
                const currentParent = item.parentElement;
                item.remove();
                
                // Adicionar aos favoritos
                favoritesItems.appendChild(item);
                
                // Atualizar menu de ações para remover dos favoritos
                const menu = item.querySelector('.edit-menu');
                menu.innerHTML = `
                    <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                    <button onclick="removeFromFavorites(this.closest('.item-container'))">Remover dos Favoritos</button>
                    <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                `;
                
                showNotification('Item adicionado aos favoritos!', 'success');
                updateStatistics();
            }
        }

        function removeFromFavorites(item) {
            const favoriteButton = item.querySelector('.favorite-button');
            const originalSection = item.dataset.originalSection || 'especiais';
            
            // Remover classe de favorito
            favoriteButton.classList.remove('favorited');
            
            // Remover dos favoritos
            item.remove();
            
            // Encontrar a seção correta e adicionar de volta
            let targetLocation;
            if (originalSection === 'especiais') {
                const especialTitle = document.querySelector('h2.section-title');
                targetLocation = especialTitle;
            } else {
                const simplesTitles = document.querySelectorAll('h2.section-title');
                targetLocation = simplesTitles[simplesTitles.length - 1];
            }
            
            // Inserir após o título da seção
            targetLocation.insertAdjacentElement('afterend', item);
            
            // Restaurar menu de ações original
            const menu = item.querySelector('.edit-menu');
            menu.innerHTML = `
                <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
            `;
            
            // Re-adicionar evento ao botão de descrição
            const toggleButton = item.querySelector('.toggle-description');
            toggleButton.removeEventListener('click', toggleDescriptionHandler);
            toggleButton.addEventListener('click', toggleDescriptionHandler);
            
            showNotification('Item removido dos favoritos!', 'success');
            updateStatistics();
        }

        function searchItems() {
            const input = document.querySelector('.search-input').value.toLowerCase();
            const items = document.querySelectorAll('.item-container');
            let found = false;

            items.forEach(item => {
                if (item.parentElement.id === 'trash-items' || item.parentElement.id === 'favorites-items') return;
                const itemName = item.querySelector('.item-name').textContent.toLowerCase();
                if (input === '' || itemName.includes(input)) {
                    item.style.display = 'flex';
                    if (input !== '') found = true;
                } else {
                    item.style.display = 'none';
                }
            });

            const sections = document.querySelectorAll('.section-title');
            sections.forEach(section => {
                if (section.closest('#favorites-section') || section.closest('#trash-section') || section.closest('#stats-section')) return;
                let nextItem = section.nextElementSibling;
                let hasVisibleItems = false;
                while (nextItem && nextItem.classList.contains('item-container')) {
                    if (nextItem.style.display === 'flex') {
                        hasVisibleItems = true;
                        break;
                    }
                    nextItem = nextItem.nextElementSibling;
                }
                section.style.display = hasVisibleItems || input === '' ? 'block' : 'none';
            });
        }

        function addItem(event) {
            event.preventDefault();
            
            const name = document.getElementById('item-name').value;
            const image = document.getElementById('item-image').value;
            const suit = document.getElementById('item-suit').value;
            const section = document.getElementById('item-section').value;
            const type = document.getElementById('item-type').value;
            const requirements = document.getElementById('item-requirements').value;
            const description = document.getElementById('item-description').value;
            const found = document.getElementById('item-found').value;
            const damage = document.getElementById('item-damage').value;
            const life = document.getElementById('item-life').value;
            const status = `Dano: ${damage} | Vida: ${life}`;

            if (currentEditingItem) {
                // Atualizar item existente
                currentEditingItem.querySelector('.item-name').textContent = name;
                currentEditingItem.querySelector('.item-suit').textContent = suit;
                currentEditingItem.querySelector('.item-image img').src = image;
                currentEditingItem.querySelector('.item-image img').alt = name;
                currentEditingItem.querySelector('.item-status').textContent = status;
                currentEditingItem.querySelectorAll('.property-value')[0].textContent = type;
                currentEditingItem.querySelectorAll('.property-value')[1].textContent = requirements;
                currentEditingItem.querySelectorAll('.property-value')[2].textContent = found;
                currentEditingItem.querySelector('.description-content').textContent = description;

                if (currentEditingItem.dataset.section !== section) {
                    const oldSection = currentEditingItem.dataset.section;
                    currentEditingItem.dataset.section = section;
                    
                    let targetLocation;
                    if (section === 'especiais') {
                        const especialTitle = document.querySelector('h2.section-title');
                        targetLocation = especialTitle;
                    } else {
                        const simplesTitles = document.querySelectorAll('h2.section-title');
                        targetLocation = simplesTitles[simplesTitles.length - 1];
                    }
                    
                    targetLocation.insertAdjacentElement('afterend', currentEditingItem);
                }

                currentEditingItem = null;
                showNotification('Item editado com sucesso!', 'success');
            } else {
                // Adicionar novo item
                let targetLocation;
                if (section === 'especiais') {
                    const especialTitle = document.querySelector('h2.section-title');
                    targetLocation = especialTitle;
                } else {
                    const simplesTitles = document.querySelectorAll('h2.section-title');
                    targetLocation = simplesTitles[simplesTitles.length - 1];
                }

                const itemContainer = document.createElement('div');
                itemContainer.className = 'item-container';
                itemContainer.dataset.section = section;
                itemContainer.innerHTML = `
                    <div class="item-suit">${suit}</div>
                    <div class="item-image-container">
                        <div class="item-image">
                            <img alt="${name}" src="${image}" />
                        </div>
                        <div class="item-status">${status}</div>
                    </div>
                    <div class="item-details">
                        <h3 class="item-name">${name}</h3>
                        <div class="item-property">
                            <span class="property-name">Tipo:</span>
                            <span class="property-value">${type}</span>
                        </div>
                        <div class="item-property">
                            <span class="property-name">Requerimentos:</span>
                            <span class="property-value">${requirements}</span>
                        </div>
                        <div class="item-property">
                            <span class="property-name">Como foi achada:</span>
                            <span class="property-value">${found}</span>
                        </div>
                        <button class="toggle-description">Mostrar Descrição</button>
                        <div class="description-content">
                            ${description}
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="favorite-button" onclick="toggleFavorite(this.closest('.item-container'))">⭐</button>
                        <button class="edit-menu-button" onclick="toggleMenu(this)">⋯</button>
                        <div class="edit-menu" style="display:none;">
                            <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                            <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
                        </div>
                    </div>
                `;

                targetLocation.insertAdjacentElement('afterend', itemContainer);

                // Adicionar evento ao novo botão de descrição
                const newToggleButton = itemContainer.querySelector('.toggle-description');
                newToggleButton.addEventListener('click', toggleDescriptionHandler);
                
                showNotification('Item adicionado com sucesso!', 'success');
            }

            // Limpar formulário e fechar
            document.querySelector('.add-item-form').reset();
            resetCounters();
            toggleAddItemForm();
            updateStatistics();
        }

        function editItem(item) {
            currentEditingItem = item;
            const title = document.getElementById('add-item-title');
            const submitButton = document.getElementById('submit-button');
            title.textContent = 'Editar Item';
            submitButton.textContent = 'Salvar Alterações';

            document.getElementById('item-name').value = item.querySelector('.item-name').textContent;
            document.getElementById('item-image').value = item.querySelector('.item-image img').src;
            document.getElementById('item-suit').value = item.querySelector('.item-suit').textContent.trim();
            document.getElementById('item-section').value = item.dataset.originalSection || item.dataset.section;
            document.getElementById('item-type').value = item.querySelectorAll('.property-value')[0].textContent;
            document.getElementById('item-requirements').value = item.querySelectorAll('.property-value')[1].textContent;
            document.getElementById('item-found').value = item.querySelectorAll('.property-value')[2].textContent;
            document.getElementById('item-description').value = item.querySelector('.description-content').textContent;

            const statusText = item.querySelector('.item-status').textContent;
            const damageMatch = statusText.match(/Dano: (.*?) \|/);
            const lifeMatch = statusText.match(/Vida: (.*)$/);
            document.getElementById('item-damage').value = damageMatch ? damageMatch[1] : '';
            document.getElementById('item-life').value = lifeMatch ? lifeMatch[1] : '';

            // Atualizar contadores
            document.querySelectorAll('.add-item-form input, .add-item-form textarea').forEach(input => {
                input.dispatchEvent(new Event('input'));
            });

            const addItemContainer = document.querySelector('.add-item-container');
            addItemContainer.style.display = 'block';
            document.querySelector('.toggle-add-item').textContent = 'Fechar Formulário';
        }

        function deleteItem(item) {
            const trashItems = document.getElementById('trash-items');
            
            // Remover dos favoritos se estiver lá
            if (item.parentElement.id === 'favorites-items') {
                const favoriteButton = item.querySelector('.favorite-button');
                favoriteButton.classList.remove('favorited');
            }
            
            // Salvar seção original se não estiver salva
            if (!item.dataset.originalSection) {
                item.dataset.originalSection = item.dataset.section;
            }
            
            item.remove();
            trashItems.appendChild(item);

            const menu = item.querySelector('.edit-menu');
            menu.innerHTML = `<button onclick="restoreItem(this.closest('.item-container'))">Restaurar</button>`;
            
            showNotification('Item movido para a lixeira!', 'warning');
            updateStatistics();
        }

        function restoreItem(item) {
            const section = item.dataset.originalSection || item.dataset.section;
            
            // Encontrar a seção correta
            let targetLocation;
            if (section === 'especiais') {
                const especialTitle = document.querySelector('h2.section-title');
                targetLocation = especialTitle;
            } else {
                const simplesTitles = document.querySelectorAll('h2.section-title');
                targetLocation = simplesTitles[simplesTitles.length - 1];
            }
            
            // Remover da lixeira
            const trashItems = document.getElementById('trash-items');
            if (item.parentElement === trashItems) {
                item.remove();
            }

            // Inserir na seção correta
            targetLocation.insertAdjacentElement('afterend', item);

            // Restaurar menu de edição
            const menu = item.querySelector('.edit-menu');
            menu.innerHTML = `
                <button onclick="editItem(this.closest('.item-container'))">Editar Item</button>
                <button onclick="deleteItem(this.closest('.item-container'))">Excluir Item</button>
            `;

            // Re-adicionar evento ao botão de descrição
            const toggleButton = item.querySelector('.toggle-description');
            toggleButton.removeEventListener('click', toggleDescriptionHandler);
            toggleButton.addEventListener('click', toggleDescriptionHandler);

            // Atualizar visibilidade da seção
            targetLocation.style.display = 'block';
            
            showNotification('Item restaurado com sucesso!', 'success');
            updateStatistics();
        }

        function toggleDescriptionHandler() {
            const desc = this.nextElementSibling;
            if (desc.style.display === 'block') {
                desc.style.display = 'none';
                this.textContent = 'Mostrar Descrição';
            } else {
                desc.style.display = 'block';
                this.textContent = 'Ocultar Descrição';
            }
        }
    </script>
</body>
</html>